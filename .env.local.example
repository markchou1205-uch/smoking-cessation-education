/*
# Database
POSTGRES_URL="postgres://username:password@hostname:port/database?sslmode=require"
POSTGRES_PRISMA_URL="postgres://username:password@hostname:port/database?sslmode=require&pgbouncer=true&connect_timeout=15"
POSTGRES_URL_NON_POOLING="postgres://username:password@hostname:port/database?sslmode=require"
POSTGRES_USER="username"
POSTGRES_HOST="hostname"
POSTGRES_PASSWORD="password"
POSTGRES_DATABASE="database"

# NextJS
NEXTAUTH_URL="https://your-domain.vercel.app"
NEXTAUTH_SECRET="your-secret-key"

# Admin Access
ADMIN_USERNAME="admin"
ADMIN_PASSWORD="secure-password"
*/

// next.config.js - Next.js 配置
const nextConfig = {
  reactStrictMode: true,
  swcMinify: true,
  experimental: {
    serverComponentsExternalPackages: ['@vercel/postgres']
  },
  env: {
    CUSTOM_KEY: process.env.CUSTOM_KEY,
  },
  // 允許 YouTube iframe
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'X-Frame-Options',
            value: 'SAMEORIGIN'
          },
          {
            key: 'Content-Security-Policy',
            value: "frame-src 'self' https://www.youtube.com https://youtube.com"
          }
        ]
      }
    ]
  },
  // 重定向配置
  async redirects() {
    return [
      {
        source: '/admin',
        destination: '/admin/dashboard',
        permanent: true,
      },
    ]
  }
}

module.exports = nextConfig 
